<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Timsort — the fastest sorting algorithm you’ve never heard of | Polymath.cloud</title>

<meta name="keywords" content="Computer Science, Popular" />
<meta name="description" content="Timsort: A very fast , O(n log n), stable sorting algorithm built for the real world — not constructed in academia. Image of Tim Peter from here Timsort is a sorting algorithm that is efficient for real-world data and not created in an academic laboratory. Tim Peters created Timsort for the Python programming language in 2001. Timsort first analyses the list it is trying to sort and then chooses an approach based on the analysis of the list.">
<meta name="author" content="Bee">
<link rel="canonical" href="https://polymath.cloud/timsort/" />
<link href="https://polymath.cloud/assets/css/stylesheet.min.94a69f3d0b70cac76c6d6f7dfecc9f91f2319ec73d54be960b0d3624fa5a25e2.css" integrity="sha256-lKafPQtwysdsbW99/syfkfIxnsc9VL6WCw02JPpaJeI=" rel="preload stylesheet"
    as="style">

<link rel="icon" href="https://polymath.cloud/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://polymath.cloud/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://polymath.cloud/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://polymath.cloud/apple-touch-icon.png">
<link rel="mask-icon" href="https://polymath.cloud/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.68.3" />




<style>
    td, th {
    border: thin solid #999 !important;
    padding: 12px 15px;
}

thead tr {
    background-color: #009879;
    color: #ffffff;
    text-align: left;
}

table {
    border-collapse: collapse;
    margin: 25px 0;
    font-size: 0.9em;
    font-family: sans-serif;
    min-width: 400px;
    overflow: auto;
    display: table;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);
}

tbody tr {
    border-bottom: thin solid #dddddd;
}


tbody tr:last-of-type {
    border-bottom: 2px solid #009879;
}

tbody td.active-item {
    font-weight: bold;
    color: #009879;
}

tbody tr:nth-of-type(even) {
    background-color: #f3f3f3;
    }


body.dark tbody tr:nth-of-type(even) {
    background-color: #383838;
}


img {
    display: block;
    margin: auto;
    text-align: center;
}

</style>
<meta property="og:title" content="Timsort — the fastest sorting algorithm you’ve never heard of" />
<meta property="og:description" content="Timsort: A very fast , O(n log n), stable sorting algorithm built for the real world — not constructed in academia. Image of Tim Peter from here Timsort is a sorting algorithm that is efficient for real-world data and not created in an academic laboratory. Tim Peters created Timsort for the Python programming language in 2001. Timsort first analyses the list it is trying to sort and then chooses an approach based on the analysis of the list." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://polymath.cloud/timsort/" />
<meta property="article:published_time" content="2019-10-10T16:17:20+00:00" />
<meta property="article:modified_time" content="2019-10-10T16:17:20+00:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Timsort — the fastest sorting algorithm you’ve never heard of"/>
<meta name="twitter:description" content="Timsort: A very fast , O(n log n), stable sorting algorithm built for the real world — not constructed in academia. Image of Tim Peter from here Timsort is a sorting algorithm that is efficient for real-world data and not created in an academic laboratory. Tim Peters created Timsort for the Python programming language in 2001. Timsort first analyses the list it is trying to sort and then chooses an approach based on the analysis of the list."/>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Timsort — the fastest sorting algorithm you’ve never heard of",
  "name": "Timsort — the fastest sorting algorithm you’ve never heard of",
  "description": "Timsort: A very fast , O(n log n), stable sorting algorithm built for the real world — not constructed in academia. Image of Tim Peter from here Timsort is a sorting algorithm that …",
  "keywords": [
    "Computer Science", "Popular"
  ],
  "articleBody": "Timsort: A very fast , O(n log n), stable sorting algorithm built for the real world — not constructed in academia. Image of Tim Peter from here Timsort is a sorting algorithm that is efficient for real-world data and not created in an academic laboratory. Tim Peters created Timsort for the Python programming language in 2001. Timsort first analyses the list it is trying to sort and then chooses an approach based on the analysis of the list.\nSince the algorithm has been invented it has been used as the default sorting algorithm in Python, Java, the Android Platform, and in GNU Octave.\nTimsort’s big O notation is O(n log n). To learn about Big O notation, read this. From here Timsort’s sorting time is the same as Mergesort, which is faster than most of the other sorts you might know. Timsort actually makes use of Insertion sort and Mergesort, as you’ll see soon.\nPeters designed Timsort to use already-ordered elements that exist in most real-world data sets. It calls these already-ordered elements “natural runs”. It iterates over the data collecting the elements into runs and simultaneously merging those runs together into one.\n The array has fewer than 64 elements in it If the array we are trying to sort has fewer than 64 elements in it, Timsort will execute an insertion sort.\nAn insertion sort is a simple sort which is most effective on small lists. It is quite slow at larger lists, but very fast with small lists. The idea of an insertion sort is as follows:\n Look at elements one by one Build up sorted list by inserting the element at the correct location  Image taken by me, from my website skerritt.tech In this instance we are inserting the newly sorted elements into a new sub-array, which starts at the start of the array.\nHere’s a gif showing insertion sort: Taken from here More about runs If the list is larger than 64 elements than the algorithm will make a first pass through the list looking for parts that are strictly increasing or decreasing. If the part is decreasing, it will reverse that part.\nSo if the run is decreasing, it’ll look like this (where the run is in bold): Image from my website, skerritt.tech If not decreasing, it’ll look like this: Image from my website, skerritt.tech The minrun is a size which is determined based on the size of the array. The algorithm selects it so that most runs in a random array are, or become minrun, in length. Merging 2 arrays is more efficient when the number of runs is equal to, or slightly less than, a power of two. Timsort chooses minrun to try to ensure this efficiency, by making sure minrun is equal to or less than a power of two.\nThe algorithm chooses minrun from the range 32 to 64 inclusive. It chooses minrun such that the length of the original array, when divided by minrun, is equal to or slightly less than a power of two.\nIf the length of the run is less than minrun, you calculate the length of that run away from minrun. Using this new number, you grab that many items ahead of the run and perform an insertion sort to create a new run.\nSo if minrun is 63 and the length of the run is 33, you do 63–33 = 30. You then grab 30 elements from in front of the end of the run, so this is 30 items from run[33] and then perform an insertion sort to create a new run.\nAfter this part has completed we should now have a bunch of sorted runs in a list.\n Merging https://giphy.com/gifs/dragon-ball-z-dbz-UfaSEmvHQtrEI\nTimsort now performs mergesort to merge the runs together. However, Timsort makes sure to maintain stability and merge balance whilst merge sorting.\nTo maintain stability we should not exchange 2 numbers of equal value. This not only keeps their original positions in the list but enables the algorithm to be faster. We will shortly discuss the merge balance.\nAs Timsort finds runs, it adds them to a stack. A simple stack would look like this: Image from my website, skerritt.tech Imagine a stack of plates. You cannot take plates from the bottom, so you have to take them from the top. The same is true about a stack.\nTimsort tries to balance two competing needs when mergesort runs. On one hand, we would like to delay merging as long as possible in order to exploit patterns that may come up later. But we would like even more to do the merging as soon as possible to exploit the run that the run just found is still high in the memory hierarchy. We also can’t delay merging “too long” because it consumes memory to remember the runs that are still unmerged, and the stack has a fixed size.\nTo make sure we have this compromise, Timsort keeps track of the three most recent items on the stack and creates two laws that must hold true of those items:\n  A  B + C\n  B  C\n  Where A, B and C are the three most recent items on the stack.\nIn the words of Tim Peters himself:\n What turned out to be a good compromise maintains two invariants on the stack entries, where A, B and C are the lengths of the three righmost not-yet merged slices\n Usually, merging adjacent runs of different lengths in place is hard. What makes it even harder is that we have to maintain stability. To get around this, Timsort sets aside temporary memory. It places the smaller (calling both runs A and B) of the two runs into that temporary memory.\n Galloping https://giphy.com/gifs/horse-riding-yNldIEA9XD7TW\nWhile Timsort is merging A and B, it notices that one run has been “winning” many times in a row. If it turned out that the run A consisted of entirely smaller numbers than the run B then the run A would end up back in its original place. Merging the two runs would involve a lot of work to achieve nothing.\nMore often than not, data will have some preexisting internal structure. Timsort assumes that if a lot of run A’s values are lower than run B’s values, then it is likely that A will continue to have smaller values than B. Image of 2 example runs, A and B. Runs have to be strictly increasing or decreasing, hence why these numbers were picked.\nTimsort will then enter galloping mode. Instead of checking A[0] and B[0] against each other, Timsort performs a binary search for the appropriate position of b[0] in a[0]. This way, Timsort can move a whole section of A into place. Then Timsort searches for the appropriate location of A[0] in B. Timsort will then move a whole section of B can at once, and into place.\nLet’s see this in action. Timsort checks B[0] (which is 5) and using a binary search it looks for the correct location in A.\nWell, B[0] belongs at the back of the list of A. Now Timsort checks for A[0] (which is 1) in the correct location of B. So we’re looking to see where the number 1 goes. This number goes at the start of B. We now know that B belongs at the end of A and A belongs at the start of B.\nIt turns out, this operation is not worth it if the appropriate location for B[0] is very close to the beginning of A (or vice versa). so gallop mode quickly exits if it isn’t paying off. Additionally, Timsort takes note and makes it harder to enter gallop mode later by increasing the number of consecutive A-only or B-only wins required to enter. If gallop mode is paying off, Timsort makes it easier to reenter.\nIn short, Timsort does 2 things incredibly well:\n Great performance on arrays with preexisting internal structure Being able to maintain a stable sort  Previously, in order to achieve a stable sort, you’d have to zip the items in your list up with integers, and sort it as an array of tuples.\n Code If you’re not interested in the code, feel free to skip this part. There’s some more information below this section.\nThe source code below is based on mine and Nanda Javarma’s work. The source code is not complete, nor is it similar to Python’s offical sorted() source code. This is just a dumbed-down Timsort I implemented to get a general feel of Timsort. If you want to see Timsort’s original source code in all its glory, check it out here. Timsort is offically implemented in C, not Python.\nTimsort is actually built right into Python, so this code only serves as an explainer. To use Timsort simply write:\nlist.sort()  Or\nsorted(list)  If you want to master how Timsort works and get a feel for it, I highly suggest you try to implement it yourself!\nThis article is based on Tim Peters’ original introduction to Timsort, found here.\n Hey 👋 Want to subscribe to my blog and stay up to date with posts similar to this one? Subscribe to my email list below. I won’t spam you. I will only send you posts similar to this one 😊✨\nLike this article? 🔥 Sign up and get more content like this 😁✨\nSubscribe\nWe won’t send you spam. Unsubscribe at any time. Powered By ConvertKit .formkit-form[data-uid=\"4028200a82”] *{font-family:“Helvetica Neue”,Helvetica,Arial,Verdana,sans-serif;box-sizing:border-box;}.formkit-form[data-uid=\"4028200a82”]{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}.formkit-form[data-uid=\"4028200a82”] legend{border:none;font-size:inherit;margin-bottom:10px;padding:0;position:relative;display:table;}.formkit-form[data-uid=\"4028200a82”] fieldset{border:0;padding:0.01em 0 0 0;margin:0;min-width:0;}.formkit-form[data-uid=\"4028200a82”] body:not(:-moz-handler-blocked) fieldset{display:table-cell;}.formkit-form[data-uid=\"4028200a82”] h1,.formkit-form[data-uid=\"4028200a82”] h2,.formkit-form[data-uid=\"4028200a82”] h3,.formkit-form[data-uid=\"4028200a82”] h4,.formkit-form[data-uid=\"4028200a82”] h5,.formkit-form[data-uid=\"4028200a82”] h6{color:inherit;font-size:inherit;font-weight:inherit;}.formkit-form[data-uid=\"4028200a82”] p{color:inherit;font-size:inherit;font-weight:inherit;}.formkit-form[data-uid=\"4028200a82”][data-format=\"modal”]{display:none;}.formkit-form[data-uid=\"4028200a82”][data-format=\"slide in”]{display:none;}.formkit-form[data-uid=\"4028200a82”] .formkit-input,.formkit-form[data-uid=\"4028200a82”] .formkit-select,.formkit-form[data-uid=\"4028200a82”] .formkit-checkboxes{width:100%;}.formkit-form[data-uid=\"4028200a82”] .formkit-button,.formkit-form[data-uid=\"4028200a82”] .formkit-submit{border:0;border-radius:5px;color:#ffffff;cursor:pointer;display:inline-block;text-align:center;font-size:15px;font-weight:500;cursor:pointer;margin-bottom:15px;overflow:hidden;padding:0;position:relative;vertical-align:middle;}.formkit-form[data-uid=\"4028200a82”] .formkit-button:hover,.formkit-form[data-uid=\"4028200a82”] .formkit-submit:hover,.formkit-form[data-uid=\"4028200a82”] .formkit-button:focus,.formkit-form[data-uid=\"4028200a82”] .formkit-submit:focus{outline:none;}.formkit-form[data-uid=\"4028200a82”] .formkit-button:hover  span,.formkit-form[data-uid=\"4028200a82”] .formkit-submit:hover  span,.formkit-form[data-uid=\"4028200a82”] .formkit-button:focus  span,.formkit-form[data-uid=\"4028200a82”] .formkit-submit:focus  span{background-color:rgba(0,0,0,0.1);}.formkit-form[data-uid=\"4028200a82”] .formkit-button  span,.formkit-form[data-uid=\"4028200a82”] .formkit-submit  span{display:block;-webkit-transition:all 300ms ease-in-out;transition:all 300ms ease-in-out;padding:12px 24px;}.formkit-form[data-uid=\"4028200a82”] .formkit-input{background:#ffffff;font-size:15px;padding:12px;border:1px solid #e3e3e3;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;line-height:1.4;margin:0;-webkit-transition:border-color ease-out 300ms;transition:border-color ease-out 300ms;}.formkit-form[data-uid=\"4028200a82”] .formkit-input:focus{outline:none;border-color:#1677be;-webkit-transition:border-color ease 300ms;transition:border-color ease 300ms;}.formkit-form[data-uid=\"4028200a82”] .formkit-input::-webkit-input-placeholder{color:#848585;}.formkit-form[data-uid=\"4028200a82”] .formkit-input::-moz-placeholder{color:#848585;}.formkit-form[data-uid=\"4028200a82”] .formkit-input:-ms-input-placeholder{color:#848585;}.formkit-form[data-uid=\"4028200a82”] .formkit-input::placeholder{color:#848585;}.formkit-form[data-uid=\"4028200a82”] [data-group=\"dropdown”]{position:relative;display:inline-block;width:100%;}.formkit-form[data-uid=\"4028200a82”] [data-group=\"dropdown”]::before{content:\"\";top:calc(50% - 2.5px);right:10px;position:absolute;pointer-events:none;border-color:#4f4f4f transparent transparent transparent;border-style:solid;border-width:6px 6px 0 6px;height:0;width:0;z-index:999;}.formkit-form[data-uid=\"4028200a82”] [data-group=\"dropdown”] select{height:auto;width:100%;cursor:pointer;color:#333333;line-height:1.4;margin-bottom:0;padding:0 6px;-webkit-appearance:none;-moz-appearance:none;appearance:none;font-size:15px;padding:12px;padding-right:25px;border:1px solid #e3e3e3;background:#ffffff;}.formkit-form[data-uid=\"4028200a82”] [data-group=\"dropdown”] select:focus{outline:none;}.formkit-form[data-uid=\"4028200a82”] [data-group=\"checkboxes”]{text-align:left;margin:0;}.formkit-form[data-uid=\"4028200a82”] [data-group=\"checkboxes”] [data-group=\"checkbox”]{margin-bottom:10px;}.formkit-form[data-uid=\"4028200a82”] [data-group=\"checkboxes”] [data-group=\"checkbox”] *{cursor:pointer;}.formkit-form[data-uid=\"4028200a82”] [data-group=\"checkboxes”] [data-group=\"checkbox”]:last-of-type{margin-bottom:0;}.formkit-form[data-uid=\"4028200a82”] [data-group=\"checkboxes”] [data-group=\"checkbox”] input[type=\"checkbox”]{display:none;}.formkit-form[data-uid=\"4028200a82”] [data-group=\"checkboxes”] [data-group=\"checkbox”] input[type=\"checkbox”] + label::after{content:none;}.formkit-form[data-uid=\"4028200a82”] [data-group=\"checkboxes”] [data-group=\"checkbox”] input[type=\"checkbox”]:checked + label::after{border-color:#ffffff;content:\"\";}.formkit-form[data-uid=\"4028200a82”] [data-group=\"checkboxes”] [data-group=\"checkbox”] input[type=\"checkbox”]:checked + label::before{background:#10bf7a;border-color:#10bf7a;}.formkit-form[data-uid=\"4028200a82”] [data-group=\"checkboxes”] [data-group=\"checkbox”] label{position:relative;display:inline-block;padding-left:28px;}.formkit-form[data-uid=\"4028200a82”] [data-group=\"checkboxes”] [data-group=\"checkbox”] label::before,.formkit-form[data-uid=\"4028200a82”] [data-group=\"checkboxes”] [data-group=\"checkbox”] label::after{position:absolute;content:\"\";display:inline-block;}.formkit-form[data-uid=\"4028200a82”] [data-group=\"checkboxes”] [data-group=\"checkbox”] label::before{height:16px;width:16px;border:1px solid #e3e3e3;background:#ffffff;left:0px;top:3px;}.formkit-form[data-uid=\"4028200a82”] [data-group=\"checkboxes”] [data-group=\"checkbox”] label::after{height:4px;width:8px;border-left:2px solid #4d4d4d;border-bottom:2px solid #4d4d4d;-webkit-transform:rotate(-45deg);-ms-transform:rotate(-45deg);transform:rotate(-45deg);left:4px;top:8px;}.formkit-form[data-uid=\"4028200a82”] .formkit-alert{background:#f9fafb;border:1px solid #e3e3e3;border-radius:5px;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;list-style:none;margin:25px auto;padding:12px;text-align:center;width:100%;}.formkit-form[data-uid=\"4028200a82”] .formkit-alert:empty{display:none;}.formkit-form[data-uid=\"4028200a82”] .formkit-alert-success{background:#d3fbeb;border-color:#10bf7a;color:#0c905c;}.formkit-form[data-uid=\"4028200a82”] .formkit-alert-error{background:#fde8e2;border-color:#f2643b;color:#ea4110;}.formkit-form[data-uid=\"4028200a82”] .formkit-spinner{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:0px;width:0px;margin:0 auto;position:absolute;top:0;left:0;right:0;width:0px;overflow:hidden;text-align:center;-webkit-transition:all 300ms ease-in-out;transition:all 300ms ease-in-out;}.formkit-form[data-uid=\"4028200a82”] .formkit-spinner  div{margin:auto;width:12px;height:12px;background-color:#fff;opacity:0.3;border-radius:100%;display:inline-block;-webkit-animation:formkit-bouncedelay-formkit-form-data-uid-4028200a82- 1.4s infinite ease-in-out both;animation:formkit-bouncedelay-formkit-form-data-uid-4028200a82- 1.4s infinite ease-in-out both;}.formkit-form[data-uid=\"4028200a82”] .formkit-spinner  div:nth-child(1){-webkit-animation-delay:-0.32s;animation-delay:-0.32s;}.formkit-form[data-uid=\"4028200a82”] .formkit-spinner  div:nth-child(2){-webkit-animation-delay:-0.16s;animation-delay:-0.16s;}.formkit-form[data-uid=\"4028200a82”] .formkit-submit[data-active] .formkit-spinner{opacity:1;height:100%;width:50px;}.formkit-form[data-uid=\"4028200a82”] .formkit-submit[data-active] .formkit-spinner ~ span{opacity:0;}@-webkit-keyframes formkit-bouncedelay-formkit-form-data-uid-4028200a82-{0%,80%,100%{-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);}40%{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}}@keyframes formkit-bouncedelay-formkit-form-data-uid-4028200a82-{0%,80%,100%{-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);}40%{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}} .formkit-form[data-uid=\"4028200a82”]{border:1px solid #e3e3e3;max-width:700px;position:relative;}.formkit-form[data-uid=\"4028200a82”] .formkit-background{width:100%;height:100%;position:absolute;top:0;left:0;background-size:cover;background-position:center;opacity:0.3;z-index:1;}.formkit-form[data-uid=\"4028200a82”] [data-style=\"minimal”]{padding:20px;width:100%;z-index:2;position:relative;}.formkit-form[data-uid=\"4028200a82”] .formkit-header{margin:0 0 27px 0;text-align:center;}.formkit-form[data-uid=\"4028200a82”] .formkit-subheader{margin:18px 0;text-align:center;}.formkit-form[data-uid=\"4028200a82”] .formkit-guarantee{font-size:13px;margin:10px 0 15px 0;text-align:center;}.formkit-form[data-uid=\"4028200a82”] .formkit-guarantee  p{margin:0;}.formkit-form[data-uid=\"4028200a82”] .formkit-powered-by{color:#7d7d7d;display:block;font-size:12px;margin:10px 0 0 0;text-align:center;}.formkit-form[data-uid=\"4028200a82”] .formkit-powered-by[data-active=\"false”]{opacity:0.5;}.formkit-form[data-uid=\"4028200a82”] .formkit-fields{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:25px auto 0 auto;}.formkit-form[data-uid=\"4028200a82”] .formkit-field{min-width:220px;}.formkit-form[data-uid=\"4028200a82”] .formkit-field,.formkit-form[data-uid=\"4028200a82”] .formkit-submit{margin:0 0 15px 0;-webkit-flex:1 0 100%;-ms-flex:1 0 100%;flex:1 0 100%;}.formkit-form[data-uid=\"4028200a82”][min-width~=\"600”] [data-style=\"minimal”]{padding:40px;}.formkit-form[data-uid=\"4028200a82”][min-width~=\"600”] .formkit-fields[data-stacked=\"false”]{margin-left:-5px;margin-right:-5px;}.formkit-form[data-uid=\"4028200a82”][min-width~=\"600”] .formkit-fields[data-stacked=\"false”] .formkit-field,.formkit-form[data-uid=\"4028200a82”][min-width~=\"600”] .formkit-fields[data-stacked=\"false”] .formkit-submit{margin:0 5px 15px 5px;}.formkit-form[data-uid=\"4028200a82”][min-width~=\"600”] .formkit-fields[data-stacked=\"false”] .formkit-field{-webkit-flex:100 1 auto;-ms-flex:100 1 auto;flex:100 1 auto;}.formkit-form[data-uid=\"4028200a82”][min-width~=\"600”] .formkit-fields[data-stacked=\"false”] .formkit-submit{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;} If you’re feeling extra generous, I have a PayPal  and even a Patreon. I’m a university student who writes these blogs in their spare time. This blog is my full time job, so any and all donations are appreciated!\n",
  "wordCount" : "1854",
  "inLanguage": "en",
  "datePublished": "2019-10-10T16:17:20Z",
  "dateModified": "2019-10-10T16:17:20Z",
  "author":{
    "@type": "Person",
    "name": "Bee"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://polymath.cloud/timsort/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Polymath.cloud",
    "logo": {
      "@type": "ImageObject",
      "url": "https://polymath.cloud/favicon.ico"
    }
  }
}
</script>



</head>

<body class="">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>
<noscript>
    <style type="text/css">
        .theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript>
<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://polymath.cloud" accesskey="h">Polymath.cloud</a>
            <span class="logo-switches">
                <span class="theme-toggle">
                    <a id="theme-toggle" accesskey="t">
                        <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                            fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                        </svg>
                        <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                            fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round">
                            <circle cx="12" cy="12" r="5"></circle>
                            <line x1="12" y1="1" x2="12" y2="3"></line>
                            <line x1="12" y1="21" x2="12" y2="23"></line>
                            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                            <line x1="1" y1="12" x2="3" y2="12"></line>
                            <line x1="21" y1="12" x2="23" y2="12"></line>
                            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                        </svg>
                    </a>
                </span>
                
            </span>
        </div>
        <ul class="menu" id="menu" onscroll="menu_on_scroll()">
            <li>
                <a href="https://polymath.cloud/archives" title="Archive">
                    <span>
                        Archive
                    </span>
                </a>
            </li>
            <li>
                <a href="https://polymath.cloud/search/" title="Search">
                    <span>
                        Search
                    </span>
                </a>
            </li>
            <li>
                <a href="https://polymath.cloud/tags/" title="Tags">
                    <span>
                        Tags
                    </span>
                </a>
            </li></ul>
    </nav>
</header>

    <main class="main">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">
      Timsort — the fastest sorting algorithm you’ve never heard of
    </h1>
    <div class="post-meta">

October 10, 2019&nbsp;·&nbsp;9 min&nbsp;·&nbsp;Bee

    </div>
  </header> 

  <div class="post-content">
<p>Timsort: A very fast , O(n log n), stable sorting algorithm built for the real world — not constructed in academia.
<img src="https://cdn-images-1.medium.com/max/600/0*kZKyCrzT9YvXBtT9.jpg" alt="">Image of Tim Peter from <a href="https://www.youtube.com/watch?v=1wAOy88WxmY">here</a>
Timsort is a sorting algorithm that is efficient for real-world data and not created in an academic laboratory. Tim Peters created Timsort for the Python programming language in 2001. Timsort first analyses the list it is trying to sort and then chooses an approach based on the analysis of the list.</p>
<p>Since the algorithm has been invented it has been used as the default sorting algorithm in Python, <a href="https://bugs.java.com/bugdatabase/view_bug.do?bug_id=6804124">Java</a>, the <a href="http://www.kiwidoc.com/java/l/x/android/android/5/p/java.util/c/TimSort">Android </a>Platform, and in GNU Octave.</p>
<p>Timsort’s <a href="https://skerritt.blog/big-o/">big O notation</a> is O(n log n). To learn about Big O notation, read <a href="https://skerritt.blog/big-o/">this</a>.
<img src="https://cdn-images-1.medium.com/max/800/1*1CkG3c4mZGswDShAV9eHbQ.png" alt="">From <a href="http://bigocheatsheet.com/">here</a>
Timsort’s sorting time is the same as Mergesort, which is faster than most of the other sorts you might know. Timsort actually makes use of Insertion sort and Mergesort, as you’ll see soon.</p>
<p>Peters designed Timsort to use already-ordered elements that exist in most real-world data sets. It calls these already-ordered elements “natural runs”. It iterates over the data collecting the elements into runs and simultaneously merging those runs together into one.</p>
<hr>
<h3 id="the-array-has-fewer-than-64-elements-in-it"><strong>The array has fewer than 64 elements in it</strong><a hidden class="anchor" aria-hidden="true" href="#the-array-has-fewer-than-64-elements-in-it">#</a></h3>
<p>If the array we are trying to sort has fewer than 64 elements in it, Timsort will execute an insertion sort.</p>
<p>An insertion sort is a simple sort which is most effective on small lists. It is quite slow at larger lists, but very fast with small lists. The idea of an insertion sort is as follows:</p>
<ul>
<li>Look at elements one by one</li>
<li>Build up sorted list by inserting the element at the correct location</li>
</ul>
<p><img src="https://cdn-images-1.medium.com/max/800/1*3bMtqGONwfRvPMvVf8zfJQ.png" alt="">Image taken by me, from my website <a href="https://skerritt.tech">skerritt.tech</a>
In this instance we are inserting the newly sorted elements into a new sub-array, which starts at the start of the array.</p>
<h2 id="httpscdn-images-1mediumcommax8000i8vlk7-zh-2btqp4giftaken-from-herehttpsuploadwikimediaorgwikipediacommons99cinsertion-sort-examplegif">Here’s a gif showing insertion sort:
<img src="https://cdn-images-1.medium.com/max/800/0*I8VlK7-Zh-2btQP4.gif" alt="">Taken from <a href="https://upload.wikimedia.org/wikipedia/commons/9/9c/Insertion-sort-example.gif">here</a></h2>
<h3 id="more-about-runs"><strong>More about runs</strong><a hidden class="anchor" aria-hidden="true" href="#more-about-runs">#</a></h3>
<p>If the list is larger than 64 elements than the algorithm will make a first pass through the list looking for parts that are strictly increasing or decreasing. If the part is decreasing, it will reverse that part.</p>
<p>So if the run is decreasing, it’ll look like this (where the run is in bold):
<img src="https://cdn-images-1.medium.com/max/800/1*LWJSZ8DHZ2DNF8aeVyGpig.png" alt="">Image from my website, <a href="https://skerritt.tech/">skerritt.tech</a>
If not decreasing, it’ll look like this:
<img src="https://cdn-images-1.medium.com/max/800/1*r96puBtKKiF6-Rj3DKjOUA.png" alt="">Image from my website, <a href="https://skerritt.tech/">skerritt.tech</a>
The minrun is a size which is determined based on the size of the array. The algorithm selects it so that most runs in a random array are, or become minrun, in length. Merging 2 arrays is more efficient when the number of runs is equal to, or slightly less than, a power of two. Timsort chooses minrun to try to ensure this efficiency, by making sure minrun is equal to or less than a power of two.</p>
<p>The algorithm chooses minrun from the range 32 to 64 inclusive. It chooses minrun such that the length of the original array, when divided by minrun, is equal to or slightly less than a power of two.</p>
<p>If the length of the run is less than minrun, you calculate the length of that run away from minrun. Using this new number, you grab that many items ahead of the run and perform an insertion sort to create a new run.</p>
<p>So if minrun is 63 and the length of the run is 33, you do 63–33 = 30. You then grab 30 elements from in front of the end of the run, so this is 30 items from run[33] and then perform an insertion sort to create a new run.</p>
<p>After this part has completed we should now have a bunch of sorted runs in a list.</p>
<hr>
<h3 id="merging"><strong>Merging</strong><a hidden class="anchor" aria-hidden="true" href="#merging">#</a></h3>
<p><a href="https://giphy.com/gifs/dragon-ball-z-dbz-UfaSEmvHQtrEI">https://giphy.com/gifs/dragon-ball-z-dbz-UfaSEmvHQtrEI</a></p>
<p>Timsort now performs mergesort to merge the runs together. However, Timsort makes sure to maintain stability and merge balance whilst merge sorting.</p>
<p>To maintain stability we should not exchange 2 numbers of equal value. This not only keeps their original positions in the list but enables the algorithm to be faster. We will shortly discuss the merge balance.</p>
<p>As Timsort finds runs, it adds them to a stack. A simple stack would look like this:
<img src="https://cdn-images-1.medium.com/max/800/1*sJ4GSPsTvUdIYQIR2pbKig.png" alt="">Image from my website, <a href="https://skerritt.tech/">skerritt.tech</a>
Imagine a stack of plates. You cannot take plates from the bottom, so you have to take them from the top. The same is true about a stack.</p>
<p>Timsort tries to balance two competing needs when mergesort runs. On one hand, we would like to delay merging as long as possible in order to exploit patterns that may come up later. But we would like even more to do the merging as soon as possible to exploit the run that the run just found is still high in the memory hierarchy. We also can’t delay merging “too long” because it consumes memory to remember the runs that are still unmerged, and the stack has a fixed size.</p>
<p>To make sure we have this compromise, Timsort keeps track of the three most recent items on the stack and creates two laws that must hold true of those items:</p>
<ol>
<li>
<p>A &gt; B + C</p>
</li>
<li>
<p>B &gt; C</p>
</li>
</ol>
<p>Where A, B and C are the three most recent items on the stack.</p>
<p>In the words of Tim Peters himself:</p>
<blockquote>
<p><em>What turned out to be a good compromise maintains two invariants on the stack entries, where A, B and C are the lengths of the three righmost not-yet merged slices</em></p>
</blockquote>
<p>Usually, merging adjacent runs of different lengths in place is hard. What makes it even harder is that we have to maintain stability. To get around this, Timsort sets aside temporary memory. It places the smaller (calling both runs A and B) of the two runs into that temporary memory.</p>
<hr>
<h3 id="galloping"><strong>Galloping</strong><a hidden class="anchor" aria-hidden="true" href="#galloping">#</a></h3>
<p><a href="https://giphy.com/gifs/horse-riding-yNldIEA9XD7TW">https://giphy.com/gifs/horse-riding-yNldIEA9XD7TW</a></p>
<p>While Timsort is merging A and B, it notices that one run has been “winning” many times in a row. If it turned out that the run A consisted of entirely smaller numbers than the run B then the run A would end up back in its original place. Merging the two runs would involve a lot of work to achieve nothing.</p>
<p>More often than not, data will have some preexisting internal structure. Timsort assumes that if a lot of run A’s values are lower than run B’s values, then it is likely that A will continue to have smaller values than B.
<img src="/content/images/2019/01/image-505.png" alt="">
Image of 2 example runs, A and B. Runs have to be strictly increasing or decreasing, hence why these numbers were picked.</p>
<p>Timsort will then enter galloping mode. Instead of checking A[0] and B[0] against each other, Timsort performs a binary search for the appropriate position of b[0] in a[0]. This way, Timsort can move a whole section of A into place. Then Timsort searches for the appropriate location of A[0] in B. Timsort will then move a whole section of B can at once, and into place.</p>
<p>Let’s see this in action. Timsort checks B[0] (which is 5) and using a binary search it looks for the correct location in A.</p>
<p>Well, B[0] belongs at the back of the list of A. Now Timsort checks for A[0] (which is 1) in the correct location of B. So we’re looking to see where the number 1 goes. This number goes at the start of B. We now know that B belongs at the end of A and A belongs at the start of B.</p>
<p>It turns out, this operation is not worth it if the appropriate location for B[0] is very close to the beginning of A (or vice versa). so gallop mode quickly exits if it isn’t paying off. Additionally, Timsort takes note and makes it harder to enter gallop mode later by increasing the number of consecutive A-only or B-only wins required to enter. If gallop mode is paying off, Timsort makes it easier to reenter.</p>
<p>In short, Timsort does 2 things incredibly well:</p>
<ul>
<li>Great performance on arrays with preexisting internal structure</li>
<li>Being able to maintain a stable sort</li>
</ul>
<p>Previously, in order to achieve a stable sort, you’d have to zip the  items in your list up with integers, and sort it as an array of tuples.</p>
<hr>
<h3 id="code"><strong>Code</strong><a hidden class="anchor" aria-hidden="true" href="#code">#</a></h3>
<p>If you’re not interested in the code, feel free to skip this part. There’s some more information below this section.</p>
<p>The source code below is based on mine and Nanda Javarma’s work. The source code is not complete, nor is it similar to Python’s offical sorted() source code. This is just a dumbed-down Timsort I implemented to get a general feel of Timsort. If you want to see Timsort’s original source code in all its glory, check it out <a href="https://github.com/python/cpython/blob/master/Objects/listobject.c">here</a>. Timsort is offically implemented in C, not Python.</p>
<p>Timsort is actually built right into Python, so this code only serves as an explainer. To use Timsort simply write:</p>
<pre><code>list.sort()
</code></pre>
<p>Or</p>
<pre><code>sorted(list)
</code></pre>
<p>If you want to master how Timsort works and get a feel for it, I highly suggest you try to implement it yourself!</p>
<p>This article is based on Tim Peters’ original introduction to Timsort, found <a href="https://bugs.python.org/file4451/timsort.txt">here</a>.</p>
<hr>
<p>Hey 👋 Want to subscribe to my blog and stay up to date with posts similar to this one? Subscribe to my email list below. I won&rsquo;t spam you. I will only send you posts similar to this one 😊✨</p>
<h1 id="like-this-article-">Like this article? 🔥<a hidden class="anchor" aria-hidden="true" href="#like-this-article-">#</a></h1>
<p>Sign up and get more content like this 😁✨</p>
<p>Subscribe</p>
<p>We won&rsquo;t send you spam. Unsubscribe at any time.
<a href="https://convertkit.com/?utm_source=dynamic&amp;utm_medium=referral&amp;utm_campaign=poweredby&amp;utm_content=form">Powered By ConvertKit</a>
.formkit-form[data-uid=&quot;4028200a82&rdquo;] *{font-family:&ldquo;Helvetica Neue&rdquo;,Helvetica,Arial,Verdana,sans-serif;box-sizing:border-box;}.formkit-form[data-uid=&quot;4028200a82&rdquo;]{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] legend{border:none;font-size:inherit;margin-bottom:10px;padding:0;position:relative;display:table;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] fieldset{border:0;padding:0.01em 0 0 0;margin:0;min-width:0;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] body:not(:-moz-handler-blocked) fieldset{display:table-cell;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] h1,.formkit-form[data-uid=&quot;4028200a82&rdquo;] h2,.formkit-form[data-uid=&quot;4028200a82&rdquo;] h3,.formkit-form[data-uid=&quot;4028200a82&rdquo;] h4,.formkit-form[data-uid=&quot;4028200a82&rdquo;] h5,.formkit-form[data-uid=&quot;4028200a82&rdquo;] h6{color:inherit;font-size:inherit;font-weight:inherit;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] p{color:inherit;font-size:inherit;font-weight:inherit;}.formkit-form[data-uid=&quot;4028200a82&rdquo;][data-format=&quot;modal&rdquo;]{display:none;}.formkit-form[data-uid=&quot;4028200a82&rdquo;][data-format=&quot;slide in&rdquo;]{display:none;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-input,.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-select,.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-checkboxes{width:100%;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-button,.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-submit{border:0;border-radius:5px;color:#ffffff;cursor:pointer;display:inline-block;text-align:center;font-size:15px;font-weight:500;cursor:pointer;margin-bottom:15px;overflow:hidden;padding:0;position:relative;vertical-align:middle;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-button:hover,.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-submit:hover,.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-button:focus,.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-submit:focus{outline:none;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-button:hover &gt; span,.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-submit:hover &gt; span,.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-button:focus &gt; span,.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-submit:focus &gt; span{background-color:rgba(0,0,0,0.1);}.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-button &gt; span,.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-submit &gt; span{display:block;-webkit-transition:all 300ms ease-in-out;transition:all 300ms ease-in-out;padding:12px 24px;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-input{background:#ffffff;font-size:15px;padding:12px;border:1px solid #e3e3e3;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;line-height:1.4;margin:0;-webkit-transition:border-color ease-out 300ms;transition:border-color ease-out 300ms;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-input:focus{outline:none;border-color:#1677be;-webkit-transition:border-color ease 300ms;transition:border-color ease 300ms;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-input::-webkit-input-placeholder{color:#848585;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-input::-moz-placeholder{color:#848585;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-input:-ms-input-placeholder{color:#848585;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-input::placeholder{color:#848585;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] [data-group=&quot;dropdown&rdquo;]{position:relative;display:inline-block;width:100%;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] [data-group=&quot;dropdown&rdquo;]::before{content:&quot;&quot;;top:calc(50% - 2.5px);right:10px;position:absolute;pointer-events:none;border-color:#4f4f4f transparent transparent transparent;border-style:solid;border-width:6px 6px 0 6px;height:0;width:0;z-index:999;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] [data-group=&quot;dropdown&rdquo;] select{height:auto;width:100%;cursor:pointer;color:#333333;line-height:1.4;margin-bottom:0;padding:0 6px;-webkit-appearance:none;-moz-appearance:none;appearance:none;font-size:15px;padding:12px;padding-right:25px;border:1px solid #e3e3e3;background:#ffffff;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] [data-group=&quot;dropdown&rdquo;] select:focus{outline:none;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] [data-group=&quot;checkboxes&rdquo;]{text-align:left;margin:0;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] [data-group=&quot;checkboxes&rdquo;] [data-group=&quot;checkbox&rdquo;]{margin-bottom:10px;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] [data-group=&quot;checkboxes&rdquo;] [data-group=&quot;checkbox&rdquo;] *{cursor:pointer;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] [data-group=&quot;checkboxes&rdquo;] [data-group=&quot;checkbox&rdquo;]:last-of-type{margin-bottom:0;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] [data-group=&quot;checkboxes&rdquo;] [data-group=&quot;checkbox&rdquo;] input[type=&quot;checkbox&rdquo;]{display:none;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] [data-group=&quot;checkboxes&rdquo;] [data-group=&quot;checkbox&rdquo;] input[type=&quot;checkbox&rdquo;] + label::after{content:none;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] [data-group=&quot;checkboxes&rdquo;] [data-group=&quot;checkbox&rdquo;] input[type=&quot;checkbox&rdquo;]:checked + label::after{border-color:#ffffff;content:&quot;&quot;;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] [data-group=&quot;checkboxes&rdquo;] [data-group=&quot;checkbox&rdquo;] input[type=&quot;checkbox&rdquo;]:checked + label::before{background:#10bf7a;border-color:#10bf7a;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] [data-group=&quot;checkboxes&rdquo;] [data-group=&quot;checkbox&rdquo;] label{position:relative;display:inline-block;padding-left:28px;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] [data-group=&quot;checkboxes&rdquo;] [data-group=&quot;checkbox&rdquo;] label::before,.formkit-form[data-uid=&quot;4028200a82&rdquo;] [data-group=&quot;checkboxes&rdquo;] [data-group=&quot;checkbox&rdquo;] label::after{position:absolute;content:&quot;&quot;;display:inline-block;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] [data-group=&quot;checkboxes&rdquo;] [data-group=&quot;checkbox&rdquo;] label::before{height:16px;width:16px;border:1px solid #e3e3e3;background:#ffffff;left:0px;top:3px;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] [data-group=&quot;checkboxes&rdquo;] [data-group=&quot;checkbox&rdquo;] label::after{height:4px;width:8px;border-left:2px solid #4d4d4d;border-bottom:2px solid #4d4d4d;-webkit-transform:rotate(-45deg);-ms-transform:rotate(-45deg);transform:rotate(-45deg);left:4px;top:8px;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-alert{background:#f9fafb;border:1px solid #e3e3e3;border-radius:5px;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;list-style:none;margin:25px auto;padding:12px;text-align:center;width:100%;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-alert:empty{display:none;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-alert-success{background:#d3fbeb;border-color:#10bf7a;color:#0c905c;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-alert-error{background:#fde8e2;border-color:#f2643b;color:#ea4110;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-spinner{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:0px;width:0px;margin:0 auto;position:absolute;top:0;left:0;right:0;width:0px;overflow:hidden;text-align:center;-webkit-transition:all 300ms ease-in-out;transition:all 300ms ease-in-out;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-spinner &gt; div{margin:auto;width:12px;height:12px;background-color:#fff;opacity:0.3;border-radius:100%;display:inline-block;-webkit-animation:formkit-bouncedelay-formkit-form-data-uid-4028200a82- 1.4s infinite ease-in-out both;animation:formkit-bouncedelay-formkit-form-data-uid-4028200a82- 1.4s infinite ease-in-out both;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-spinner &gt; div:nth-child(1){-webkit-animation-delay:-0.32s;animation-delay:-0.32s;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-spinner &gt; div:nth-child(2){-webkit-animation-delay:-0.16s;animation-delay:-0.16s;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-submit[data-active] .formkit-spinner{opacity:1;height:100%;width:50px;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-submit[data-active] .formkit-spinner ~ span{opacity:0;}@-webkit-keyframes formkit-bouncedelay-formkit-form-data-uid-4028200a82-{0%,80%,100%{-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);}40%{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}}@keyframes formkit-bouncedelay-formkit-form-data-uid-4028200a82-{0%,80%,100%{-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);}40%{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}} .formkit-form[data-uid=&quot;4028200a82&rdquo;]{border:1px solid #e3e3e3;max-width:700px;position:relative;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-background{width:100%;height:100%;position:absolute;top:0;left:0;background-size:cover;background-position:center;opacity:0.3;z-index:1;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] [data-style=&quot;minimal&rdquo;]{padding:20px;width:100%;z-index:2;position:relative;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-header{margin:0 0 27px 0;text-align:center;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-subheader{margin:18px 0;text-align:center;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-guarantee{font-size:13px;margin:10px 0 15px 0;text-align:center;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-guarantee &gt; p{margin:0;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-powered-by{color:#7d7d7d;display:block;font-size:12px;margin:10px 0 0 0;text-align:center;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-powered-by[data-active=&quot;false&rdquo;]{opacity:0.5;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-fields{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:25px auto 0 auto;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-field{min-width:220px;}.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-field,.formkit-form[data-uid=&quot;4028200a82&rdquo;] .formkit-submit{margin:0 0 15px 0;-webkit-flex:1 0 100%;-ms-flex:1 0 100%;flex:1 0 100%;}.formkit-form[data-uid=&quot;4028200a82&rdquo;][min-width~=&quot;600&rdquo;] [data-style=&quot;minimal&rdquo;]{padding:40px;}.formkit-form[data-uid=&quot;4028200a82&rdquo;][min-width~=&quot;600&rdquo;] .formkit-fields[data-stacked=&quot;false&rdquo;]{margin-left:-5px;margin-right:-5px;}.formkit-form[data-uid=&quot;4028200a82&rdquo;][min-width~=&quot;600&rdquo;] .formkit-fields[data-stacked=&quot;false&rdquo;] .formkit-field,.formkit-form[data-uid=&quot;4028200a82&rdquo;][min-width~=&quot;600&rdquo;] .formkit-fields[data-stacked=&quot;false&rdquo;] .formkit-submit{margin:0 5px 15px 5px;}.formkit-form[data-uid=&quot;4028200a82&rdquo;][min-width~=&quot;600&rdquo;] .formkit-fields[data-stacked=&quot;false&rdquo;] .formkit-field{-webkit-flex:100 1 auto;-ms-flex:100 1 auto;flex:100 1 auto;}.formkit-form[data-uid=&quot;4028200a82&rdquo;][min-width~=&quot;600&rdquo;] .formkit-fields[data-stacked=&quot;false&rdquo;] .formkit-submit{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;}
If you&rsquo;re feeling extra generous, I have a <a href="https://www.paypal.me/BrandonSkerritt">PayPal </a> and even a <a href="https://www.patreon.com/user?u=15993188">Patreon</a>. I&rsquo;m  a university student who writes these blogs in their spare time. This blog is my full time job, so any and all donations are appreciated!</p>

</div>
  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://polymath.cloud/tags/computer-science/">Computer Science</a></li>
      <li><a href="https://polymath.cloud/tags/popular/">Popular</a></li>
    </ul>






<div class="share-buttons">
    <a target="_blank" rel="noopener noreferrer" aria-label="share Timsort — the fastest sorting algorithm you’ve never heard of on twitter"
        href="https://twitter.com/intent/tweet/?text=Timsort%e2%80%8a%e2%80%94%e2%80%8athe%20fastest%20sorting%20algorithm%20you%e2%80%99ve%20never%20heard%20of&amp;url=https%3a%2f%2fpolymath.cloud%2ftimsort%2f&amp;hashtags=ComputerScience%2cPopular">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-253.927,424.544c135.939,0 210.268,-112.643 210.268,-210.268c0,-3.218 0,-6.437 -0.153,-9.502c14.406,-10.421 26.973,-23.448 36.935,-38.314c-13.18,5.824 -27.433,9.809 -42.452,11.648c15.326,-9.196 26.973,-23.602 32.49,-40.92c-14.252,8.429 -30.038,14.56 -46.896,17.931c-13.487,-14.406 -32.644,-23.295 -53.946,-23.295c-40.767,0 -73.87,33.104 -73.87,73.87c0,5.824 0.613,11.494 1.992,16.858c-61.456,-3.065 -115.862,-32.49 -152.337,-77.241c-6.284,10.881 -9.962,23.601 -9.962,37.088c0,25.594 13.027,48.276 32.95,61.456c-12.107,-0.307 -23.448,-3.678 -33.41,-9.196l0,0.92c0,35.862 25.441,65.594 59.311,72.49c-6.13,1.686 -12.72,2.606 -19.464,2.606c-4.751,0 -9.348,-0.46 -13.946,-1.38c9.349,29.426 36.628,50.728 68.965,51.341c-25.287,19.771 -57.164,31.571 -91.8,31.571c-5.977,0 -11.801,-0.306 -17.625,-1.073c32.337,21.15 71.264,33.41 112.95,33.41Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Timsort — the fastest sorting algorithm you’ve never heard of on linkedin"
        href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fpolymath.cloud%2ftimsort%2f&amp;title=Timsort%e2%80%8a%e2%80%94%e2%80%8athe%20fastest%20sorting%20algorithm%20you%e2%80%99ve%20never%20heard%20of&amp;summary=Timsort%e2%80%8a%e2%80%94%e2%80%8athe%20fastest%20sorting%20algorithm%20you%e2%80%99ve%20never%20heard%20of&amp;source=https%3a%2f%2fpolymath.cloud%2ftimsort%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Timsort — the fastest sorting algorithm you’ve never heard of on reddit"
        href="https://reddit.com/submit?url=https%3a%2f%2fpolymath.cloud%2ftimsort%2f&title=Timsort%e2%80%8a%e2%80%94%e2%80%8athe%20fastest%20sorting%20algorithm%20you%e2%80%99ve%20never%20heard%20of">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Timsort — the fastest sorting algorithm you’ve never heard of on facebook"
        href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fpolymath.cloud%2ftimsort%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Timsort — the fastest sorting algorithm you’ve never heard of on whatsapp"
        href="https://api.whatsapp.com/send?text=Timsort%e2%80%8a%e2%80%94%e2%80%8athe%20fastest%20sorting%20algorithm%20you%e2%80%99ve%20never%20heard%20of%20-%20https%3a%2f%2fpolymath.cloud%2ftimsort%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Timsort — the fastest sorting algorithm you’ve never heard of on telegram"
        href="https://telegram.me/share/url?text=Timsort%e2%80%8a%e2%80%94%e2%80%8athe%20fastest%20sorting%20algorithm%20you%e2%80%99ve%20never%20heard%20of&amp;url=https%3a%2f%2fpolymath.cloud%2ftimsort%2f">
        <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28">
            <path
                d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
        </svg>
    </a>
</div>

  </footer>
</article>
    </main><footer class="footer">
    <span>&copy; 2020 <a href="https://polymath.cloud">Polymath.cloud</a></span>
    <span>&middot;</span>
    <span>Powered by <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a></span>
    <span>&middot;</span>
    <span>Theme <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a></span>
</footer>
<button class="top-link" id="top-link" type="button" aria-label="go to top" title="Go to Top" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6">
        <path d="M12 6H0l6-6z" /></svg>
</button>



<script defer src="https://polymath.cloud/assets/js/highlight.min.27cd435cc9ed6abb4b496581b151804f79f366c412620272bb94e2f5f598ebcc.js" integrity="sha256-J81DXMntartLSWWBsVGAT3nzZsQSYgJyu5Ti9fWY68w="
    onload="hljs.initHighlightingOnLoad();"></script>
<script>
    window.onload = function () {
        if (localStorage.getItem("menu-scroll-position")) {
            document.getElementById('menu').scrollLeft = localStorage.getItem("menu-scroll-position");
        }
    }
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };
    mybutton.onclick = function () {
        document.body.scrollTop = 0;
        document.documentElement.scrollTop = 0;
        window.location.hash = ''
    }

    function menu_on_scroll() {
        localStorage.setItem("menu-scroll-position", document.getElementById('menu').scrollLeft);
    }

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>

</body>

</html>
